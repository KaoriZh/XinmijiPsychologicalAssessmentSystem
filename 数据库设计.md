# 数据库设计

心秘籍问卷系统由测评系统和专栏系统两个子系统构成，数据库由六张表构成。

在问卷存储上采用问卷、问题、答案、结论分离存储的方案，即答案只保留问题id和用户id，问题则保留所属问卷id，结论也只保留问卷id。逻辑关系为：每个问卷会包含若干问题，每个问题的每个选项都会对应一个分值，同时每个问题会对应一个分值，最终问卷分数为所有加权分数之和，同时系统根据最终得分给出问卷结论，结论与问卷设计者划分的分值区间相关。

## 答案表

答案表用于记录某个问题对应某个用户的答题情况，主键是问题id和用户id，分别是问题表问题id和用户表用户id的外键，使用级联删除，即若相关问卷或用户被删除，则删除相关答案记录。

![07](img\07.png)

## 问题表

问题表记录问题所属的问卷，问题描述和问题权值。

![08](img\08.png)

## 结论表

结论表用于记录某条结论所属的问卷以及对应的分值区间。

![09](img\09.png)

## 问卷表

问卷表用于存储管理员新建的测评，包含标题和摘要。

![10](img\10.png)

## 文章表

文章表用于存放心理科普专栏的文章。

![11](img\11.png)

## 用户表

用户表用于存放用户账户和密码信息，同时包含管理员标识字段。

![12](img\12.png)